<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'index')}">

<body>

<div class="jumbotron text-center">
  <div class="container">
    <a href="/" class="lang-logo">
      <img src="/lang-logo.png">
    </a>
    <h1>Weather Information</h1>
    <p>Please type in a City</p>
    <input type="text" name="searchCity" id="cityToSearch">
    <a type="button" class="btn btn-lg btn-primary" href="" onclick="weatherServices.getDataByCityName()"><span class="glyphicon glyphicon-flash"></span>Get weather Info</a>
  </div>
</div>
<div class="container">
  <div class="alert alert-info text-center" role="alert">
  
  </div>
  <hr>
  <div class="row">
    <div class="col-md-6">
      <h3><span class="glyphicon glyphicon-info-sign"></span></h3>
      <ul>
        
      </ul>
    </div>
    <div class="col-md-6">
      
      
    </div>
  </div> <!-- row -->
   <div class="alert alert-info text-center" role="alert">
    
  </div>
</div>
<script src="../weatherAPI.js" type="text/javascript"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    var weatherServices = (function(){
    var key = "1e814ac735e96f5f43d4f96a4adf9a58";
    
    return {
        getDataByCityName : function(){
            var url = "http://api.openweathermap.org/data/2.5/forecast?q=";
            var cityName = document.getElementById('cityToSearch').value;
            axios.get(url+cityName+"&APPID="+key).then(function (response){
                alert("Data received");
                console.log(response.date);
                return response.data;
                
            });
        }
    };
}
)();
</script>
</body>
 
</html>
